generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  // ❌ KHÔNG ĐƯỢC có dòng url ở đây (Prisma 7)
}

model Salon {
  id        Int      @id @default(autoincrement())
  name      String
  address   String
  phone     String?
  image     String?
  latitude  Float?
  longitude Float?

  services  Service[]
  bookings  Booking[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Service {
  id        Int      @id @default(autoincrement())
  name      String
  price     Float
  duration  Int
  salonId   Int

  salon     Salon    @relation(fields: [salonId], references: [id])
  bookings  Booking[]
}

model Booking {
  id         Int      @id @default(autoincrement())
  name       String
  phone      String
  email      String?
  date       DateTime
  message    String?
  salonId    Int
  serviceId  Int

  salon      Salon    @relation(fields: [salonId], references: [id])
  service    Service  @relation(fields: [serviceId], references: [id])

  createdAt  DateTime @default(now())
}
