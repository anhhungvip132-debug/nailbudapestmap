<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Salon - Nail Budapest Map</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
  body {
    margin: 0;
    font-family: Helvetica, sans-serif;
    background: linear-gradient(180deg, #fff8f6 0%, #ffe9f2 100%);
    color: #3e2a2a;
  }

  .banner {
    width: 100%;
    height: 260px;
    background-size: cover;
    background-position: center;
    border-bottom: 5px solid #b6007c40;
  }

  .content {
    padding: 20px;
    text-align: center;
  }

  h1 {
    margin: 0;
    color: #b6007c;
    font-size: 32px;
    text-transform: uppercase;
  }

  .info {
    margin-top: 10px;
    font-size: 16px;
  }

  /* SERVICE CARDS */
  #services {
    margin-top: 30px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 18px;
  }

  .service-card {
    width: 280px;
    background: white;
    padding: 18px;
    border-radius: 14px;
    border: 1px solid #f5d6e5;
    box-shadow: 0 4px 18px rgba(0,0,0,.06);
    transition: .2s ease;
  }

  .service-card:hover {
    transform: translateY(-4px);
  }

  .service-name {
    font-size: 18px;
    font-weight: bold;
    color: #b6007c;
  }

  .service-price {
    margin-top: 6px;
    font-size: 16px;
    opacity: .8;
  }

  .btn {
    margin-top: 12px;
    display: inline-block;
    background: #b6007c;
    color: white;
    padding: 12px 18px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: bold;
  }

  .btn:hover { opacity: .85; }
</style>
</head>

<body>

<div id="banner" class="banner"></div>

<div class="content">
  <h1 id="name"></h1>
  <div class="info" id="address"></div>
  <div class="info" id="phone"></div>
</div>

<h2 style="text-align:center;color:#b6007c;margin-top:25px">D·ªãch v·ª•</h2>
<div id="services"></div>

<script type="module">
  import { db, doc, getDoc, collection, getDocs } from "./admin/firebase.js";

  const id = new URLSearchParams(location.search).get("id");

  async function loadSalon() {
    const snap = await getDoc(doc(db, "salons", id));
    const s = snap.data();

    document.getElementById("name").innerText = s.name;
    document.getElementById("address").innerText = "üìç " + s.address;
    document.getElementById("phone").innerText = "üìû " + s.phone;

    document.getElementById("banner").style.backgroundImage = 
      `url('${s.banner || "https://placehold.co/1200x400"}')`;
  }

  async function loadServices() {
    const box = document.getElementById("services");
    const list = await getDocs(collection(db, "salons", id, "services"));

    list.forEach(doc => {
      const s = doc.data();
      box.innerHTML += `
        <div class="service-card">
          <div class="service-name">${s.name}</div>
          <div class="service-price">${s.price} Ft</div>
          <a class="btn" href="booking.html?service=${s.name}&salon=${id}">
            ƒê·∫∑t l·ªãch ngay
          </a>
        </div>`;
    });
  }

  loadSalon();
  loadServices();
</script>
</body>
</html>
